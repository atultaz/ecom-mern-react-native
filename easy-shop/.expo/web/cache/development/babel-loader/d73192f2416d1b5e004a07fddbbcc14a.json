{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useReducer, userEffect, useState } from 'react';\nimport jwt_decode from 'jwt-decode';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport authReducer from \"../reducers/Auth.reducer\";\nimport { setCurrentUser } from \"../actions/Auth.actions\";\nimport AuthGlobal from \"./AuthGlobal\";\n\nvar Auth = function Auth(props) {\n  var _useReducer = useReducer(authReducer, {\n    isAuthenticated: null,\n    user: {}\n  }),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      stateUser = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      showChild = _useState2[0],\n      setShowChild = _useState2[1];\n\n  useEffect(function () {\n    setShowChild(true);\n\n    if (AsyncStorage.jwt) {\n      var decoded = AsyncStorage.jwt ? AsyncStorage.jwt : '';\n\n      if (setShowChild) {\n        dispatch(setCurrentUserUser(jwt_decode(decoded)));\n      }\n    }\n\n    return function () {\n      return setShowChild(false);\n    };\n  }, []);\n\n  if (!showChild) {\n    return null;\n  } else {\n    return React.createElement(AuthGlobal.Provider, {\n      value: {\n        stateUser: stateUser,\n        dispatch: dispatch\n      }\n    }, props.children);\n  }\n};\n\nexport default Auth;","map":{"version":3,"sources":["/Users/atultiwari/Desktop/mern-ecom-app/easy-shop/Context/store/Auth.js"],"names":["React","useEffect","useReducer","userEffect","useState","jwt_decode","AsyncStorage","authReducer","setCurrentUser","AuthGlobal","Auth","props","isAuthenticated","user","stateUser","dispatch","showChild","setShowChild","jwt","decoded","setCurrentUserUser","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,EAAuCC,UAAvC,EAAmDC,QAAnD,QAAmE,OAAnE;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,YAAP,MAAyB,2CAAzB;AAEA,OAAOC,WAAP;AACA,SAASC,cAAT;AACA,OAAOC,UAAP;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,KAAD,EAAW;AACtB,oBAA8BT,UAAU,CAACK,WAAD,EAAc;AACpDK,IAAAA,eAAe,EAAE,IADmC;AAEpDC,IAAAA,IAAI,EAAE;AAF8C,GAAd,CAAxC;AAAA;AAAA,MAAOC,SAAP;AAAA,MAAkBC,QAAlB;;AAIA,kBAAkCX,QAAQ,CAAC,KAAD,CAA1C;AAAA;AAAA,MAAOY,SAAP;AAAA,MAAkBC,YAAlB;;AAEAhB,EAAAA,SAAS,CAAC,YAAM;AACdgB,IAAAA,YAAY,CAAC,IAAD,CAAZ;;AACA,QAAIX,YAAY,CAACY,GAAjB,EAAsB;AACpB,UAAMC,OAAO,GAAGb,YAAY,CAACY,GAAb,GAAmBZ,YAAY,CAACY,GAAhC,GAAsC,EAAtD;;AACA,UAAID,YAAJ,EAAkB;AAChBF,QAAAA,QAAQ,CAACK,kBAAkB,CAACf,UAAU,CAACc,OAAD,CAAX,CAAnB,CAAR;AACD;AACF;;AACD,WAAO;AAAA,aAAMF,YAAY,CAAC,KAAD,CAAlB;AAAA,KAAP;AACD,GATQ,EASN,EATM,CAAT;;AAWA,MAAI,CAACD,SAAL,EAAgB;AACd,WAAO,IAAP;AACD,GAFD,MAEO;AACL,WACE,oBAAC,UAAD,CAAY,QAAZ;AACE,MAAA,KAAK,EAAE;AACLF,QAAAA,SAAS,EAATA,SADK;AAELC,QAAAA,QAAQ,EAARA;AAFK;AADT,OAMGJ,KAAK,CAACU,QANT,CADF;AAUD;AACF,CAhCD;;AAkCA,eAAeX,IAAf","sourcesContent":["import React, { useEffect, useReducer, userEffect, useState } from 'react';\nimport jwt_decode from 'jwt-decode';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nimport authReducer from '../reducers/Auth.reducer';\nimport { setCurrentUser } from '../actions/Auth.actions';\nimport AuthGlobal from './AuthGlobal';\n\nconst Auth = (props) => {\n  const [stateUser, dispatch] = useReducer(authReducer, {\n    isAuthenticated: null,\n    user: {},\n  });\n  const [showChild, setShowChild] = useState(false);\n\n  useEffect(() => {\n    setShowChild(true);\n    if (AsyncStorage.jwt) {\n      const decoded = AsyncStorage.jwt ? AsyncStorage.jwt : '';\n      if (setShowChild) {\n        dispatch(setCurrentUserUser(jwt_decode(decoded)));\n      }\n    }\n    return () => setShowChild(false);\n  }, []);\n\n  if (!showChild) {\n    return null;\n  } else {\n    return (\n      <AuthGlobal.Provider\n        value={{\n          stateUser,\n          dispatch,\n        }}\n      >\n        {props.children}\n      </AuthGlobal.Provider>\n    );\n  }\n};\n\nexport default Auth;\n"]},"metadata":{},"sourceType":"module"}